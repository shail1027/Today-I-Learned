## const char* vs char[]


### C++ 문자열의 두 가지 방식

C++에는 문자열을 다루는 두 가지 주요 방식이 있다.

1.  **C 스타일 문자열**: C 언어에서부터 내려온 방식으로, `char` 배열(`char[]`)이나 `char` 포인터(`char*`)를 사용한다. 문자열의 끝을 알리는 널 문자(`\0`)를 반드시 포함해야 한다.
2.  **C++ 스타일 문자열**: C++ 표준 라이브러리의 **`std::string`** 클래스를 사용한다. 이는 `<string>` 헤더 파일에 정의되어 있으며, 더 안전하고 편리하다.

-----

### `const char*` vs `char[]`

| 특징 | `const char* ptr` (포인터) | `char arr[]` (배열) |
| :--- | :--- | :--- |
| **데이터 저장 위치** | 읽기 전용 메모리 영역 (Text/Data Segment)에 저장됨. | 스택 메모리 (Stack)에 저장됨. |
| **변경 가능성** | **문자열 내용 변경 불가**.(`const`가 붙었기 때문) | **문자열 내용 변경 가능**. |
| **초기화 형태** | 문자열 리터럴을 가리키는 포인터. | 문자열 리터럴로 배열 요소를 초기화. |
| **주요 용도** | 상수(Literal) 문자열을 표현할 때 주로 사용. | 내용 수정이 필요한 버퍼, 가변 문자열을 표현할 때 사용. |

#### 1. `const char*` (문자열 리터럴을 가리키는 포인터)

`const char*`는 **읽기 전용(Read-Only)** 인 메모리 영역에 저장된 문자열 **리터럴(String Literal)** 의 첫 번째 문자를 가리키는 포인터이다.

```cpp
const char* str_ptr = "Hello";
```

  * **`const`의 의미**: 포인터가 가리키는 **내용(문자열)**을 변경하는 것을 금지한다. 즉, `str_ptr[0] = 'h';`와 같이 문자열의 내용을 바꾸려는 시도는 런타임 에러(Segmentation Fault)를 유발한다. 포인터 자체(`str_ptr`)가 다른 문자열을 가리키도록 변경하는 것은 가능하다.

#### 2. `char[]` (문자 배열)

`char[]`는 **스택 메모리**에 할당되며, 배열의 크기만큼 공간이 확보된다. 문자열 리터럴로 초기화될 경우, 리터럴의 내용이 **스택 메모리**로 복사되어 저장된다.

```cpp
char str_arr[] = "World";
```

  * **변경 가능성**: 스택 메모리에 저장된 데이터이므로 **문자열 내용을 자유롭게 변경할 수 있다.**
    ```cpp
    str_arr[0] = 'w'; // 유효한 변경
    std::cout << str_arr; // 출력: world
    ```
  * **크기**: 배열이므로 크기가 고정되어 있다. 초기화 시 `\0`까지 포함하여 크기가 결정된다. (위의 예시에서 `sizeof(str_arr)`은 6이다.)

-----

### C++ `<string>` 헤더 및 `std::string`과의 연관성

C 스타일 문자열의 복잡성과 위험성(널 문자 관리, 메모리 직접 접근 등) 때문에 현대 C++에서는 `<string>` 헤더에 정의된 **`std::string`** 클래스를 주로 사용한다.

#### `std::string`의 특징

  * **안전성 및 편리성**: 메모리 관리(할당 및 해제)를 자동으로 처리하며, 널 문자를 수동으로 관리할 필요가 없다.
  * **다양한 메서드**: 문자열 합치기(`+` 연산자), 길이(`length()` 또는 `size()`), 부분 문자열 추출(`substr()`), 검색(`find()`) 등 편리한 멤버 함수를 제공한다.
  * **`const char*`와의 상호 변환**: `std::string`은 C 스타일 문자열과의 상호 변환을 지원한다.

####  `std::string`과 `const char*`의 상호 변환 함수

| 함수 | 기능 | 반환값 |
| :--- | :--- | :--- |
| **`std::string::c_str()`** | `std::string` 객체를 **C 스타일 문자열**로 변환한다. | `const char*`를 반환한다. (내용 변경 불가) |
| **생성자/대입 연산자** | `const char*`를 인수로 받아 **`std::string`** 객체를 생성하거나 대입한다. | - |

**예시**:

```cpp
#include <iostream>
#include <string>

// 1. std::string -> const char*
std::string cpp_str = "Example";
const char* c_str = cpp_str.c_str(); 

// 2. const char* -> std::string
const char* literal_str = "Code";
std::string new_cpp_str = literal_str; // 자동 변환
```